# Stage library match要求

某些阶段需要选择一个阶段库以用于访问外部系统。

由于Spark的要求，当您为一个阶段指定特定的阶段库时，必须对管道中的所有相关阶段使用相同的阶段库。例如，如果您的管道包括Amazon S3的起源和Amazon S3的目的地，则两个阶段都必须使用相同的阶段库。

另一方面，如果您的管道包含不相关的阶段，例如带有Amazon S3目标的Kafka来源，则您自然可以选择完全不同的阶段库，因为这些阶段可在不同的外部系统上使用。
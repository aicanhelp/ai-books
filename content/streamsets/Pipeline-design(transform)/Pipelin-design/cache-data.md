# 缓存数据

您可以配置大多数来源和处理器来缓存数据。当一个阶段将数据传递到多个下游阶段时，您可以启用缓存。

默认情况下，Spark执行阶段处理以为每个下游阶段生成数据。当一个阶段将数据传递到多个下游阶段时，这将导致该阶段重新处理每个阶段的数据。为了防止不必要的重新处理，可以将舞台配置为缓存数据。

当阶段缓存数据时，它会临时缓存数据。该阶段处理一批数据，对其进行缓存，然后将缓存的数据传递给所有下游阶段。在流管道中使用时，该阶段将处理并缓存每一批新数据。

缓存数据应导致相同或更高的性能，但结果可能会有所不同。例如，当使用高效的Transformer机器和复杂的管道（其中只有一个阶段将数据传递到两个阶段）处理小批量数据时，缓存可能对总体管道性能几乎没有影响。相反，当一个阶段对大批数据执行复杂的处理并将结果传递给10个阶段时，为该阶段启用缓存可以提高管道性能。

**注意：**启用[可笑模式](https://streamsets.com/documentation/controlhub/latest/help/transformer/Pipelines/Ludicrous.html#concept_m4y_lbq_g3b)以改善管道性能时，缓存会限制可笑模式执行的下推优化。